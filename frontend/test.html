<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Function Call Graph</title>
  <style>
    .node circle {
      fill: #69b3a2;
      stroke: #333;
      stroke-width: 1.5px;
    }
    .node text {
      font: 12px sans-serif;
    }
    .link {
      stroke: #999;
      stroke-opacity: 0.6;
    }
  </style>
</head>
<body>
  <svg width="200" height="200"></svg>

  <script src="https://d3js.org/d3.v7.min.js"></script>
  <script>
    // Sample hierarchical data
    const data = {
      name: "Root",
      children: [
        { 
          name: "Branch A",
          children: [
            { name: "Leaf 1" },
            { name: "Leaf 2" }
          ]
        },
        { 
          name: "Branch B",
          children: [
            { name: "Leaf 3" }
          ]
        }
      ]
    };

    // SVG dimensions
    const width = 600;
    const height = 400;
    const margin = { top: 20, right: 90, bottom: 30, left: 90 };
    const innerWidth = width - margin.left - margin.right;
    const innerHeight = height - margin.top - margin.bottom;

    // Create SVG container
    const svg = d3.select('#chart')
      .append('svg')
      .attr('width', width)
      .attr('height', height)
      .append('g')
      .attr('transform', `translate(${margin.left},${margin.top})`);

    // Create hierarchy from data
    const root = d3.hierarchy(data);

    // Create tree layout
    const treeLayout = d3.tree()
      .size([innerWidth, innerHeight]);

    // Apply layout to hierarchy
    treeLayout(root);

    // Create links
    const linkGenerator = d3.linkVertical()
      .x(d => d.x)
      .y(d => d.y);

    svg.selectAll('.link')
      .data(root.links())
      .enter()
      .append('path')
      .attr('class', 'link')
      .attr('fill', 'none')
      .attr('stroke', '#555')
      .attr('stroke-width', 1.5)
      .attr('d', linkGenerator);

    // Create nodes
    const nodes = svg.selectAll('.node')
      .data(root.descendants())
      .enter()
      .append('g')
      .attr('class', 'node')
      .attr('transform', d => `translate(${d.x},${d.y})`);

    // Add circles to nodes
    nodes.append('circle')
      .attr('r', 5)
      .attr('fill', '#69b3a2');

    // Add labels to nodes
    nodes.append('text')
      .attr('dy', '0.31em')
      .attr('x', d => d.children ? -6 : 6)
      .attr('text-anchor', d => d.children ? 'end' : 'start')
      .text(d => d.data.name);
  </script>
</body>
</html>
